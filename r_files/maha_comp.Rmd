---
title: "mahalanobis_comp"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(caret) 
library(ggplot2)
library(dplyr)
library(readr)
library(Hmisc)
library(ggfortify)
```


```{r}
#### looking at distances 
hist(mse$rf_mal)
summary(mse$rf_mal)


#### finding outlier cut-off  
outlier <- mse$rf_mal
hist(outlier)

#### finding cut-offs 
threshold <- sqrt(qchisq(p = 0.95, df = 2))
which(outlier < threshold)

#### visualizing cutoff 
qqplot(qchisq(ppoints(100), df = 2), outlier,
       main = expression("Q-Q plot of Mahalanobis" * ~outlier^2 *
                         " vs. quantiles of" * ~ chi[2]^2))


#### NOTES FROM MEETING TODAY: 
#### vastly the same predictions or bad clusters, probabilities to cluster
```

